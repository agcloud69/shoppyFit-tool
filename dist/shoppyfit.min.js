const shoppyfitVersion="1.0.0",isBrowser=new Function("try { return this===window; } catch(e) { return false; }"),isiOS=isBrowser()?new Function('if ((/iPad|iPhone|iPod/i.test(navigator.userAgent || navigator.vendor || window.opera) && !window.MSStream) || (navigator.platform === "MacIntel" && navigator.maxTouchPoints > 1)) { return true; } else { return false; }'):new Function("return false;"),isAndroid=isBrowser()?new Function("if (/android/i.test(navigator.userAgent || navigator.vendor || window.opera) && !window.MSStream) { return true; } else { return false; }"):new Function("return false;"),isChrome=isBrowser()?new Function("if (/chrome|chromium|crios/i.test(navigator.userAgent)) { return true; } else { return false; }"):new Function("return false;"),isMobile=()=>!(!isAndroid()&&!isiOS()),isWebView=isBrowser()?new Function("if (/(; ?wv|(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari))/i.test(navigator.userAgent || navigator.vendor)) { return true; } else { return false; }"):new Function("return false;"),isProblematicWebView=isBrowser()?new Function("if (/(Instagram)/i.test(navigator.userAgent || navigator.vendor || window.opera)) { return true; } else { return false; }"):new Function("return false;"),shoppyfitDefaultTarget=isWebView()?"_system":"_blank",shoppyfitOptions=["step1","step2",""],shoppyfitIcon={trigger:'<span class="shoppyfit-icon-trigger"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200.016"><path d="M132.829 7.699c0-4.248 4.199-7.699 9.391-7.699s9.391 3.451 9.391 7.699v33.724c0 4.248-4.199 7.699-9.391 7.699s-9.391-3.451-9.391-7.699zm-5.941 123.747c2.979 0 5.404 2.425 5.404 5.404s-2.425 5.404-5.404 5.404l-21.077-.065-.065 21.045c0 2.979-2.425 5.404-5.404 5.404s-5.404-2.425-5.404-5.404l.065-21.061-21.045-.081c-2.979 0-5.404-2.425-5.404-5.404s2.425-5.404 5.404-5.404l21.061.065.065-21.045c0-2.979 2.425-5.404 5.404-5.404s5.404 2.425 5.404 5.404l-.065 21.077 21.061.065zM48.193 7.699C48.193 3.451 52.393 0 57.585 0s9.391 3.451 9.391 7.699v33.724c0 4.248-4.199 7.699-9.391 7.699s-9.391-3.451-9.391-7.699zM10.417 73.763h179.167V34.945c0-1.302-.537-2.49-1.4-3.369-.863-.863-2.051-1.4-3.369-1.4h-17.171c-2.881 0-5.208-2.327-5.208-5.208s2.327-5.208 5.208-5.208h17.171c4.183 0 7.975 1.709 10.726 4.46S200 30.762 200 34.945v44.043 105.843c0 4.183-1.709 7.975-4.46 10.726s-6.543 4.46-10.726 4.46H15.186c-4.183 0-7.975-1.709-10.726-4.46C1.709 192.79 0 188.997 0 184.814V78.988 34.945c0-4.183 1.709-7.975 4.46-10.726s6.543-4.46 10.726-4.46h18.343c2.881 0 5.208 2.327 5.208 5.208s-2.327 5.208-5.208 5.208H15.186c-1.302 0-2.49.537-3.369 1.4-.863.863-1.4 2.051-1.4 3.369zm179.167 10.433H10.417v100.618c0 1.302.537 2.49 1.4 3.369.863.863 2.051 1.4 3.369 1.4h169.629c1.302 0 2.49-.537 3.369-1.4.863-.863 1.4-2.051 1.4-3.369zM82.08 30.176c-2.881 0-5.208-2.327-5.208-5.208s2.327-5.208 5.208-5.208h34.977c2.881 0 5.208 2.327 5.208 5.208s-2.327 5.208-5.208 5.208z"/></svg></span>',apple:'<span class="shoppyfit-icon-apple"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 245.657"><path d="M167.084 130.514c-.308-31.099 25.364-46.022 26.511-46.761-14.429-21.107-36.91-24.008-44.921-24.335-19.13-1.931-37.323 11.27-47.042 11.27-9.692 0-24.67-10.98-40.532-10.689-20.849.308-40.07 12.126-50.818 30.799-21.661 37.581-5.54 93.281 15.572 123.754 10.313 14.923 22.612 31.688 38.764 31.089 15.549-.612 21.433-10.073 40.242-10.073s24.086 10.073 40.546 9.751c16.737-.308 27.34-15.214 37.585-30.187 11.855-17.318 16.714-34.064 17.009-34.925-.372-.168-32.635-12.525-32.962-49.68l.045-.013zm-30.917-91.287C144.735 28.832 150.524 14.402 148.942 0c-12.344.503-27.313 8.228-36.176 18.609-7.956 9.216-14.906 23.904-13.047 38.011 13.786 1.075 27.862-7.004 36.434-17.376z"/></svg></span>',google:'<span class="shoppyfit-icon-google"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><path d="M152.637 47.363H47.363v105.273h105.273z" fill="#fff"/><path d="M152.637 200L200 152.637h-47.363z" fill="#f72a25"/><path d="M200 47.363h-47.363v105.273H200z" fill="#fbbc04"/><path d="M152.637 152.637H47.363V200h105.273z" fill="#34a853"/><path d="M0 152.637v31.576A15.788 15.788 0 0 0 15.788 200h31.576v-47.363z" fill="#188038"/><path d="M200 47.363V15.788A15.79 15.79 0 0 0 184.212 0h-31.575v47.363z" fill="#1967d2"/><path d="M15.788 0A15.79 15.79 0 0 0 0 15.788v136.849h47.363V47.363h105.274V0z" fill="#4285f4"/><path d="M68.962 129.02c-3.939-2.653-6.657-6.543-8.138-11.67l9.131-3.76c.83 3.158 2.279 5.599 4.346 7.341 2.051 1.742 4.557 2.588 7.471 2.588 2.995 0 5.55-.911 7.699-2.718 2.148-1.823 3.223-4.134 3.223-6.934 0-2.865-1.139-5.208-3.402-7.031s-5.111-2.718-8.496-2.718h-5.273v-9.033h4.736c2.913 0 5.387-.781 7.389-2.376 2.002-1.579 2.995-3.743 2.995-6.494 0-2.441-.895-4.395-2.686-5.859s-4.053-2.197-6.803-2.197c-2.686 0-4.818.716-6.396 2.148s-2.767 3.255-3.451 5.273l-9.033-3.76c1.204-3.402 3.402-6.396 6.624-8.984s7.34-3.89 12.337-3.89c3.695 0 7.031.716 9.977 2.148s5.257 3.418 6.934 5.941c1.676 2.539 2.507 5.387 2.507 8.545 0 3.223-.781 5.941-2.327 8.187-1.546 2.23-3.467 3.955-5.729 5.143v.537a17.39 17.39 0 0 1 7.34 5.729c1.904 2.572 2.865 5.632 2.865 9.212s-.911 6.771-2.718 9.57c-1.823 2.799-4.329 5.013-7.52 6.624s-6.787 2.425-10.775 2.425c-4.622 0-8.887-1.318-12.826-3.988zm56.087-45.312l-10.026 7.243-5.013-7.601 17.985-12.972h6.901v61.198h-9.847z" fill="#1a73e8"/></svg></span>',ical:'<span class="shoppyfit-icon-ical"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200.016"><path d="M132.829 7.699c0-4.248 4.199-7.699 9.391-7.699s9.391 3.451 9.391 7.699v33.724c0 4.248-4.199 7.699-9.391 7.699s-9.391-3.451-9.391-7.699zm-25.228 161.263c-.553 0-.993-2.327-.993-5.208s.439-5.208.993-5.208h25.7c.553 0 .993 2.327.993 5.208s-.439 5.208-.993 5.208zm-81.803-59.766c-.553 0-.993-2.327-.993-5.208s.439-5.208.993-5.208h25.7c.553 0 .993 2.327.993 5.208s-.439 5.208-.993 5.208zm40.902 0c-.553 0-.993-2.327-.993-5.208s.439-5.208.993-5.208h25.7c.553 0 .993 2.327.993 5.208s-.439 5.208-.993 5.208zm40.902 0c-.553 0-.993-2.327-.993-5.208s.439-5.208.993-5.208h25.7c.553 0 .993 2.327.993 5.208s-.439 5.208-.993 5.208zm40.918 0c-.553 0-.993-2.327-.993-5.208s.439-5.208.993-5.208h25.7c.553 0 .993 2.327.993 5.208s-.439 5.208-.993 5.208zM25.798 139.079c-.553 0-.993-2.327-.993-5.208s.439-5.208.993-5.208h25.7c.553 0 .993 2.327.993 5.208s-.439 5.208-.993 5.208zm40.902 0c-.553 0-.993-2.327-.993-5.208s.439-5.208.993-5.208h25.7c.553 0 .993 2.327.993 5.208s-.439 5.208-.993 5.208zm40.902 0c-.553 0-.993-2.327-.993-5.208s.439-5.208.993-5.208h25.7c.553 0 .993 2.327.993 5.208s-.439 5.208-.993 5.208zm40.918 0c-.553 0-.993-2.327-.993-5.208s.439-5.208.993-5.208h25.7c.553 0 .993 2.327.993 5.208s-.439 5.208-.993 5.208zM25.798 168.962c-.553 0-.993-2.327-.993-5.208s.439-5.208.993-5.208h25.7c.553 0 .993 2.327.993 5.208s-.439 5.208-.993 5.208zm40.902 0c-.553 0-.993-2.327-.993-5.208s.439-5.208.993-5.208h25.7c.553 0 .993 2.327.993 5.208s-.439 5.208-.993 5.208zM48.193 7.699C48.193 3.451 52.393 0 57.585 0s9.391 3.451 9.391 7.699v33.724c0 4.248-4.199 7.699-9.391 7.699s-9.391-3.451-9.391-7.699zM10.417 73.763h179.15V34.945c0-1.302-.537-2.49-1.4-3.369-.863-.863-2.051-1.4-3.369-1.4h-17.155c-2.881 0-5.208-2.327-5.208-5.208s2.327-5.208 5.208-5.208h17.171c4.183 0 7.975 1.709 10.726 4.46S200 30.762 200 34.945v44.043 105.843c0 4.183-1.709 7.975-4.46 10.726s-6.543 4.46-10.726 4.46H15.186c-4.183 0-7.975-1.709-10.726-4.46C1.709 192.79 0 188.997 0 184.814V78.971 34.945c0-4.183 1.709-7.975 4.46-10.726s6.543-4.46 10.726-4.46h18.343c2.881 0 5.208 2.327 5.208 5.208s-2.327 5.208-5.208 5.208H15.186c-1.302 0-2.49.537-3.369 1.4-.863.863-1.4 2.051-1.4 3.369zm179.167 10.433H10.417v100.618c0 1.302.537 2.49 1.4 3.369.863.863 2.051 1.4 3.369 1.4h169.629c1.302 0 2.49-.537 3.369-1.4.863-.863 1.4-2.051 1.4-3.369zM82.08 30.176c-2.881 0-5.208-2.327-5.208-5.208s2.327-5.208 5.208-5.208h34.977c2.881 0 5.208 2.327 5.208 5.208s-2.327 5.208-5.208 5.208z"/></svg></span>',msteams:'<span class="shoppyfit-icon-msteams"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 200 186.047"><path d="M195.349 39.535a20.93 20.93 0 1 1-41.86 0 20.93 20.93 0 1 1 41.86 0zm-55.847 30.233h51.66A8.84 8.84 0 0 1 200 78.605v47.056c0 17.938-14.541 32.479-32.479 32.479h0-.154c-17.938.003-32.481-14.537-32.484-32.474v-.005-51.274a4.62 4.62 0 0 1 4.619-4.619z" fill="#5059c9"/><path d="M149.614 69.767H64.34c-4.823.119-8.637 4.122-8.526 8.944v53.67c-.673 28.941 22.223 52.957 51.163 53.665 28.94-.708 51.836-24.725 51.163-53.665v-53.67c.112-4.823-3.703-8.825-8.526-8.944zm-10.079-39.535a30.233 30.233 0 0 1-60.465 0 30.233 30.233 0 0 1 60.465 0z" fill="#7b83eb"/><path opacity=".1" d="M111.628 69.767v75.209c-.023 3.449-2.113 6.547-5.302 7.86-1.015.43-2.107.651-3.209.651H59.907l-1.628-4.651c-1.628-5.337-2.459-10.885-2.465-16.465V78.698c-.112-4.815 3.697-8.811 8.512-8.93z"/><path opacity=".2" d="M106.977 69.767v79.86a8.241 8.241 0 0 1-.651 3.209c-1.313 3.189-4.412 5.279-7.86 5.302H62.093l-2.186-4.651a46.13 46.13 0 0 1-1.628-4.651 56.647 56.647 0 0 1-2.465-16.465V78.698c-.112-4.815 3.697-8.811 8.512-8.93z"/><path opacity=".2" d="M102.326 69.767v70.558a8.58 8.58 0 0 1-8.512 8.512H58.279a56.647 56.647 0 0 1-2.465-16.465V78.698c-.112-4.815 3.697-8.811 8.512-8.93z"/><path opacity=".1" d="M111.628 45.721v14.651l-2.326.093c-.791 0-1.535-.046-2.326-.093-1.57-.104-3.127-.353-4.651-.744a30.233 30.233 0 0 1-20.93-17.767 25.845 25.845 0 0 1-1.488-4.651h23.209c4.693.018 8.494 3.818 8.512 8.512z"/><use xlink:href="#B" opacity=".2" transform="scale(.08973306)"/><path d="M106.977 50.372v10c-1.57-.104-3.127-.353-4.651-.744a30.233 30.233 0 0 1-20.93-17.767h17.07c4.693.018 8.494 3.818 8.512 8.512zm0 19.395v70.558a8.58 8.58 0 0 1-8.512 8.512H58.279a56.647 56.647 0 0 1-2.465-16.465V78.698c-.112-4.815 3.697-8.811 8.512-8.93z" opacity=".2"/><path opacity=".2" d="M102.326 50.372v9.256a30.233 30.233 0 0 1-20.93-17.767h12.419c4.693.018 8.494 3.818 8.512 8.512z"/><linearGradient id="A" gradientUnits="userSpaceOnUse" x1="17.776" y1="35.199" x2="84.55" y2="150.848"><stop offset="0" stop-color="#5a62c3"/><stop offset=".5" stop-color="#4d55bd"/><stop offset="1" stop-color="#3940ab"/></linearGradient><path fill="url(#A)" d="M8.526 41.86H93.8a8.53 8.53 0 0 1 8.526 8.526v85.274a8.53 8.53 0 0 1-8.526 8.526H8.526A8.53 8.53 0 0 1 0 135.66V50.386a8.53 8.53 0 0 1 8.526-8.526z"/><path fill="#fff" d="M73.6 74.316H56.553v46.419h-10.86V74.316H28.726v-9.005H73.6z"/><defs><path id="B" d="M1192.167 561.355v111.442c-17.496-1.161-34.848-3.937-51.833-8.293a336.92 336.92 0 0 1-233.25-198.003h190.228c52.304.198 94.656 42.55 94.855 94.854z"/></defs></svg></span>',ms365:'<span class="shoppyfit-icon-ms365"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 239.766"><path d="M200 219.785l-.021-.012V20.591L128.615 0 .322 48.172 0 48.234.016 192.257l43.78-17.134V57.943l84.819-20.279-.012 172.285L.088 192.257l128.515 47.456v.053l71.376-19.753v-.227z"/></svg></span>',outlookcom:'<span class="shoppyfit-icon-outlookcom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 175"><path d="M178.725 0H71.275A8.775 8.775 0 0 0 62.5 8.775v9.975l60.563 18.75L187.5 18.75V8.775A8.775 8.775 0 0 0 178.725 0z" fill="#0364b8"/><path d="M197.813 96.281c.915-2.878 2.187-5.855 2.187-8.781-.002-1.485-.795-2.857-1.491-3.26l-68.434-38.99a9.37 9.37 0 0 0-9.244-.519c-.312.154-.614.325-.906.512l-67.737 38.6-.025.013-.075.044a4.16 4.16 0 0 0-2.088 3.6c.541 2.971 1.272 5.904 2.188 8.781l71.825 52.532z" fill="#0a2767"/><path d="M150 18.75h-43.75L93.619 37.5l12.631 18.75L150 93.75h37.5v-37.5z" fill="#28a8ea"/><path d="M150 18.75h37.5v37.5H150z" fill="#50d9ff"/><path d="M150 93.75l-43.75-37.5H62.5v37.5l43.75 37.5 67.7 11.05z" fill="#0364b8"/><path d="M106.25 56.25v37.5H150v-37.5zM150 93.75v37.5h37.5v-37.5zm-87.5-75h43.75v37.5H62.5z" fill="#0078d4"/><path d="M62.5 93.75h43.75v37.5H62.5z" fill="#064a8c"/><path d="M126.188 145.113l-73.706-53.75 3.094-5.438 68.181 38.825a3.3 3.3 0 0 0 2.625-.075l68.331-38.937 3.1 5.431z" fill="#0a2767" opacity=".5"/><path d="M197.919 91.106l-.088.05-.019.013-67.738 38.588c-2.736 1.764-6.192 1.979-9.125.569l23.588 31.631 51.588 11.257v-.001c2.434-1.761 3.876-4.583 3.875-7.587V87.5c.001 1.488-.793 2.862-2.081 3.606z" fill="#1490df"/><path d="M200 165.625v-4.613l-62.394-35.55-7.531 4.294a9.356 9.356 0 0 1-9.125.569l23.588 31.631 51.588 11.231v.025a9.362 9.362 0 0 0 3.875-7.588z" opacity=".05"/><path d="M199.688 168.019l-68.394-38.956-1.219.688c-2.734 1.766-6.19 1.984-9.125.575l23.588 31.631 51.587 11.256v.001a9.38 9.38 0 0 0 3.562-5.187z" opacity=".1"/><path d="M51.455 90.721c-.733-.467-1.468-1.795-1.455-3.221v78.125c-.007 5.181 4.194 9.382 9.375 9.375h131.25c1.395-.015 2.614-.366 3.813-.813.638-.258 1.252-.652 1.687-.974z" fill="#28a8ea"/><path d="M112.5 141.669V39.581a8.356 8.356 0 0 0-8.331-8.331H62.687v46.6l-10.5 5.987-.031.012-.075.044A4.162 4.162 0 0 0 50 87.5v.031-.031V150h54.169a8.356 8.356 0 0 0 8.331-8.331z" opacity=".1"/><path d="M106.25 147.919V45.831a8.356 8.356 0 0 0-8.331-8.331H62.687v40.35l-10.5 5.987-.031.012-.075.044A4.162 4.162 0 0 0 50 87.5v.031-.031 68.75h47.919a8.356 8.356 0 0 0 8.331-8.331z" opacity=".2"/><path d="M106.25 135.419V45.831a8.356 8.356 0 0 0-8.331-8.331H62.687v40.35l-10.5 5.987-.031.012-.075.044A4.162 4.162 0 0 0 50 87.5v.031-.031 56.25h47.919a8.356 8.356 0 0 0 8.331-8.331z" opacity=".2"/><path d="M100 135.419V45.831a8.356 8.356 0 0 0-8.331-8.331H62.687v40.35l-10.5 5.987-.031.012-.075.044A4.162 4.162 0 0 0 50 87.5v.031-.031 56.25h41.669a8.356 8.356 0 0 0 8.331-8.331z" opacity=".2"/><path d="M8.331 37.5h83.337A8.331 8.331 0 0 1 100 45.831v83.338a8.331 8.331 0 0 1-8.331 8.331H8.331A8.331 8.331 0 0 1 0 129.169V45.831A8.331 8.331 0 0 1 8.331 37.5z" fill="#0078d4"/><path d="M24.169 71.675a26.131 26.131 0 0 1 10.263-11.337 31.031 31.031 0 0 1 16.313-4.087 28.856 28.856 0 0 1 15.081 3.875 25.875 25.875 0 0 1 9.988 10.831 34.981 34.981 0 0 1 3.5 15.938 36.881 36.881 0 0 1-3.606 16.662 26.494 26.494 0 0 1-10.281 11.213 30 30 0 0 1-15.656 3.981 29.556 29.556 0 0 1-15.425-3.919 26.275 26.275 0 0 1-10.112-10.85 34.119 34.119 0 0 1-3.544-15.744 37.844 37.844 0 0 1 3.481-16.563zm10.938 26.613a16.975 16.975 0 0 0 5.769 7.463 15.069 15.069 0 0 0 9.019 2.719 15.831 15.831 0 0 0 9.631-2.806 16.269 16.269 0 0 0 5.606-7.481 28.913 28.913 0 0 0 1.787-10.406 31.644 31.644 0 0 0-1.687-10.538 16.681 16.681 0 0 0-5.413-7.75 14.919 14.919 0 0 0-9.544-2.956 15.581 15.581 0 0 0-9.231 2.744 17.131 17.131 0 0 0-5.9 7.519 29.85 29.85 0 0 0-.044 21.5z" fill="#fff"/></svg></span>',yahoo:'<span class="shoppyfit-icon-yahoo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 177.803"><path d="M0 43.284h38.144l22.211 56.822 22.5-56.822h37.135L64.071 177.803H26.694l15.308-35.645L.001 43.284zm163.235 45.403H121.64L158.558 0 200 .002zm-30.699 8.488c12.762 0 23.108 10.346 23.108 23.106s-10.345 23.106-23.108 23.106a23.11 23.11 0 0 1-23.104-23.106 23.11 23.11 0 0 1 23.104-23.106z"/></svg></span>',close:'<span class="shoppyfit-icon-close"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><path d="M2.321 13.529a7.927 7.927 0 0 1 0-11.208 7.927 7.927 0 0 1 11.208 0l86.471 86.471L186.47 2.321a7.927 7.927 0 0 1 11.209 0 7.927 7.927 0 0 1 0 11.208l-86.474 86.469 86.472 86.473a7.927 7.927 0 0 1-11.209 11.208l-86.471-86.471-86.469 86.471a7.927 7.927 0 0 1-11.208-11.208l86.471-86.473z"/></svg></span>',browser:'<span class="shoppyfit-icon-browser"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 245.657"><path d="M117.011 163.676q-6.283 6.218-13.623 12.419l6.087-1.009a80.373 80.373 0 0 0 11.524-3.255l.7 1.042 1.628 2.067h0 0a26.693 26.693 0 0 0 3.467 3.255 89.992 89.992 0 0 1-15.837 4.753 95.592 95.592 0 0 1-37.159 0 87.046 87.046 0 0 1-17.253-5.322.423.423 0 0 1-.228-.114 101.077 101.077 0 0 1-15.625-8.415 88.56 88.56 0 0 1-13.672-11.214 85.761 85.761 0 0 1-11.214-13.64 97.317 97.317 0 0 1-8.545-15.658 90.806 90.806 0 0 1-5.436-17.546 95.592 95.592 0 0 1 0-37.159 86.037 86.037 0 0 1 5.339-17.253.537.537 0 0 1 .098-.228 98.212 98.212 0 0 1 8.545-15.707 87.893 87.893 0 0 1 11.214-13.656 84.947 84.947 0 0 1 13.672-11.231A97.17 97.17 0 0 1 56.43 7.259a88.739 88.739 0 0 1 17.448-5.436 95.592 95.592 0 0 1 37.159 0 87.714 87.714 0 0 1 17.253 5.322.456.456 0 0 1 .212.114 100.507 100.507 0 0 1 15.756 8.545 88.56 88.56 0 0 1 13.623 11.198 85.077 85.077 0 0 1 11.214 13.688 94.713 94.713 0 0 1 8.545 15.739 88.739 88.739 0 0 1 5.436 17.481l.195.977-8.822-2.49a76.499 76.499 0 0 0-4.232-12.744 88.251 88.251 0 0 0-4.671-9.375H138.48a106.562 106.562 0 0 1 6.836 13.819l-10.026-2.702a106.985 106.985 0 0 0-6.283-11.117H96.454v5.55l-.993.358a21.941 21.941 0 0 0-7.097 4.362V50.245H55.812q-12.484 19.385-14.03 38.152H83.4q1.628 4.02 3.402 8.138H41.7c.505 12.81 4.883 25.505 12.826 38.152h33.888v-34.49l8.138 17.904v16.553h7.748l3.727 8.138H96.503v28.5a201.567 201.567 0 0 0 17.139-15.707q1.709 4.053 3.369 8.138zm69.761-4.167a7.552 7.552 0 0 1-1.904 1.286h-.13a6.738 6.738 0 0 1-7.097-.977l-18.881-16.016-6.511 15.902a21.045 21.045 0 0 1-1.937 3.662 14.812 14.812 0 0 1-2.458 2.865 7.78 7.78 0 0 1-12.207-1.335 15.105 15.105 0 0 1-1.497-2.653c-11.231-28.467-26.465-56.805-37.859-85.289a5.062 5.062 0 0 1 5.68-6.966c27.296 5.046 62.664 16.586 90.416 23.943 8.627 2.279 10.026 9.88 3.662 15.772a19.874 19.874 0 0 1-3.255 2.474c-4.883 2.767-9.766 5.973-14.649 8.903l18.799 16.114a6.917 6.917 0 0 1 1.628 2.051v.13a6.966 6.966 0 0 1 .635 2.393h0a6.934 6.934 0 0 1-.26 2.507 7.145 7.145 0 0 1-1.172 2.262 153.894 153.894 0 0 1-11.003 12.972zm-4.883-6.25l9.099-10.677c-4.004-3.434-21.159-16.748-22.933-19.955a3.923 3.923 0 0 1 1.351-5.29c5.957-3.255 13.607-7.91 19.255-11.67a13.64 13.64 0 0 0 1.986-1.449 7.194 7.194 0 0 0 1.221-1.416l.26-.488-.505-.293a6.38 6.38 0 0 0-1.237-.423l-84.589-22.494 35.531 79.982a7.813 7.813 0 0 0 .619 1.139l.358.472.456-.326a7.341 7.341 0 0 0 1.188-1.449 12.224 12.224 0 0 0 1.107-2.165c2.653-6.511 5.68-15.414 8.789-21.436l.374-.521a3.906 3.906 0 0 1 5.485-.439l22.201 18.832zM81.594 176.095a171.814 171.814 0 0 1-31.348-33.334h-25.57A83.824 83.824 0 0 0 45.2 162.292a85.956 85.956 0 0 0 14.47 7.813.22.22 0 0 0 .179.114 79.966 79.966 0 0 0 15.69 4.883 106.008 106.008 0 0 0 6.104 1.009zm-62.241-41.44h25.733a82.359 82.359 0 0 1-11.394-38.152H8.138a90.741 90.741 0 0 0 1.628 12.923 78.566 78.566 0 0 0 4.883 15.902 88.153 88.153 0 0 0 4.655 9.375zM8.138 88.397h25.635A88.511 88.511 0 0 1 46.42 50.245H19.353a88.153 88.153 0 0 0-4.704 9.375s0 .114-.114.163A81.236 81.236 0 0 0 9.652 75.49a83.759 83.759 0 0 0-1.628 12.907zm16.488-46.241h27.003A191.606 191.606 0 0 1 82.131 8.708c-2.262.277-4.492.602-6.641 1.058a78.713 78.713 0 0 0-15.87 4.883 89.911 89.911 0 0 0-14.47 7.813 83.824 83.824 0 0 0-20.525 19.532h0zm78.127-33.448a186.577 186.577 0 0 1 30.518 33.448h27.019a79.152 79.152 0 0 0-8.138-9.375 81.073 81.073 0 0 0-12.419-10.205 86.705 86.705 0 0 0-14.405-7.829s-.098 0-.163-.098a79.999 79.999 0 0 0-15.69-4.883c-2.214-.439-4.443-.781-6.657-1.058h0zm-6.25 5.274v28.175h26.84a188.286 188.286 0 0 0-26.84-28.175zm-8.138 157.279v-28.5H60.223a171.993 171.993 0 0 0 28.24 28.5zm0-129.105V13.981a189.295 189.295 0 0 0-26.807 28.175z"/></svg></span>',step1:'<span class="shoppyfit-icon-browser"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 245.657"><path d="M117.011 163.676q-6.283 6.218-13.623 12.419l6.087-1.009a80.373 80.373 0 0 0 11.524-3.255l.7 1.042 1.628 2.067h0 0a26.693 26.693 0 0 0 3.467 3.255 89.992 89.992 0 0 1-15.837 4.753 95.592 95.592 0 0 1-37.159 0 87.046 87.046 0 0 1-17.253-5.322.423.423 0 0 1-.228-.114 101.077 101.077 0 0 1-15.625-8.415 88.56 88.56 0 0 1-13.672-11.214 85.761 85.761 0 0 1-11.214-13.64 97.317 97.317 0 0 1-8.545-15.658 90.806 90.806 0 0 1-5.436-17.546 95.592 95.592 0 0 1 0-37.159 86.037 86.037 0 0 1 5.339-17.253.537.537 0 0 1 .098-.228 98.212 98.212 0 0 1 8.545-15.707 87.893 87.893 0 0 1 11.214-13.656 84.947 84.947 0 0 1 13.672-11.231A97.17 97.17 0 0 1 56.43 7.259a88.739 88.739 0 0 1 17.448-5.436 95.592 95.592 0 0 1 37.159 0 87.714 87.714 0 0 1 17.253 5.322.456.456 0 0 1 .212.114 100.507 100.507 0 0 1 15.756 8.545 88.56 88.56 0 0 1 13.623 11.198 85.077 85.077 0 0 1 11.214 13.688 94.713 94.713 0 0 1 8.545 15.739 88.739 88.739 0 0 1 5.436 17.481l.195.977-8.822-2.49a76.499 76.499 0 0 0-4.232-12.744 88.251 88.251 0 0 0-4.671-9.375H138.48a106.562 106.562 0 0 1 6.836 13.819l-10.026-2.702a106.985 106.985 0 0 0-6.283-11.117H96.454v5.55l-.993.358a21.941 21.941 0 0 0-7.097 4.362V50.245H55.812q-12.484 19.385-14.03 38.152H83.4q1.628 4.02 3.402 8.138H41.7c.505 12.81 4.883 25.505 12.826 38.152h33.888v-34.49l8.138 17.904v16.553h7.748l3.727 8.138H96.503v28.5a201.567 201.567 0 0 0 17.139-15.707q1.709 4.053 3.369 8.138zm69.761-4.167a7.552 7.552 0 0 1-1.904 1.286h-.13a6.738 6.738 0 0 1-7.097-.977l-18.881-16.016-6.511 15.902a21.045 21.045 0 0 1-1.937 3.662 14.812 14.812 0 0 1-2.458 2.865 7.78 7.78 0 0 1-12.207-1.335 15.105 15.105 0 0 1-1.497-2.653c-11.231-28.467-26.465-56.805-37.859-85.289a5.062 5.062 0 0 1 5.68-6.966c27.296 5.046 62.664 16.586 90.416 23.943 8.627 2.279 10.026 9.88 3.662 15.772a19.874 19.874 0 0 1-3.255 2.474c-4.883 2.767-9.766 5.973-14.649 8.903l18.799 16.114a6.917 6.917 0 0 1 1.628 2.051v.13a6.966 6.966 0 0 1 .635 2.393h0a6.934 6.934 0 0 1-.26 2.507 7.145 7.145 0 0 1-1.172 2.262 153.894 153.894 0 0 1-11.003 12.972zm-4.883-6.25l9.099-10.677c-4.004-3.434-21.159-16.748-22.933-19.955a3.923 3.923 0 0 1 1.351-5.29c5.957-3.255 13.607-7.91 19.255-11.67a13.64 13.64 0 0 0 1.986-1.449 7.194 7.194 0 0 0 1.221-1.416l.26-.488-.505-.293a6.38 6.38 0 0 0-1.237-.423l-84.589-22.494 35.531 79.982a7.813 7.813 0 0 0 .619 1.139l.358.472.456-.326a7.341 7.341 0 0 0 1.188-1.449 12.224 12.224 0 0 0 1.107-2.165c2.653-6.511 5.68-15.414 8.789-21.436l.374-.521a3.906 3.906 0 0 1 5.485-.439l22.201 18.832zM81.594 176.095a171.814 171.814 0 0 1-31.348-33.334h-25.57A83.824 83.824 0 0 0 45.2 162.292a85.956 85.956 0 0 0 14.47 7.813.22.22 0 0 0 .179.114 79.966 79.966 0 0 0 15.69 4.883 106.008 106.008 0 0 0 6.104 1.009zm-62.241-41.44h25.733a82.359 82.359 0 0 1-11.394-38.152H8.138a90.741 90.741 0 0 0 1.628 12.923 78.566 78.566 0 0 0 4.883 15.902 88.153 88.153 0 0 0 4.655 9.375zM8.138 88.397h25.635A88.511 88.511 0 0 1 46.42 50.245H19.353a88.153 88.153 0 0 0-4.704 9.375s0 .114-.114.163A81.236 81.236 0 0 0 9.652 75.49a83.759 83.759 0 0 0-1.628 12.907zm16.488-46.241h27.003A191.606 191.606 0 0 1 82.131 8.708c-2.262.277-4.492.602-6.641 1.058a78.713 78.713 0 0 0-15.87 4.883 89.911 89.911 0 0 0-14.47 7.813 83.824 83.824 0 0 0-20.525 19.532h0zm78.127-33.448a186.577 186.577 0 0 1 30.518 33.448h27.019a79.152 79.152 0 0 0-8.138-9.375 81.073 81.073 0 0 0-12.419-10.205 86.705 86.705 0 0 0-14.405-7.829s-.098 0-.163-.098a79.999 79.999 0 0 0-15.69-4.883c-2.214-.439-4.443-.781-6.657-1.058h0zm-6.25 5.274v28.175h26.84a188.286 188.286 0 0 0-26.84-28.175zm-8.138 157.279v-28.5H60.223a171.993 171.993 0 0 0 28.24 28.5zm0-129.105V13.981a189.295 189.295 0 0 0-26.807 28.175z"/></svg></span>',step2:'<span class="shoppyfit-icon-browser"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 245.657"><path d="M117.011 163.676q-6.283 6.218-13.623 12.419l6.087-1.009a80.373 80.373 0 0 0 11.524-3.255l.7 1.042 1.628 2.067h0 0a26.693 26.693 0 0 0 3.467 3.255 89.992 89.992 0 0 1-15.837 4.753 95.592 95.592 0 0 1-37.159 0 87.046 87.046 0 0 1-17.253-5.322.423.423 0 0 1-.228-.114 101.077 101.077 0 0 1-15.625-8.415 88.56 88.56 0 0 1-13.672-11.214 85.761 85.761 0 0 1-11.214-13.64 97.317 97.317 0 0 1-8.545-15.658 90.806 90.806 0 0 1-5.436-17.546 95.592 95.592 0 0 1 0-37.159 86.037 86.037 0 0 1 5.339-17.253.537.537 0 0 1 .098-.228 98.212 98.212 0 0 1 8.545-15.707 87.893 87.893 0 0 1 11.214-13.656 84.947 84.947 0 0 1 13.672-11.231A97.17 97.17 0 0 1 56.43 7.259a88.739 88.739 0 0 1 17.448-5.436 95.592 95.592 0 0 1 37.159 0 87.714 87.714 0 0 1 17.253 5.322.456.456 0 0 1 .212.114 100.507 100.507 0 0 1 15.756 8.545 88.56 88.56 0 0 1 13.623 11.198 85.077 85.077 0 0 1 11.214 13.688 94.713 94.713 0 0 1 8.545 15.739 88.739 88.739 0 0 1 5.436 17.481l.195.977-8.822-2.49a76.499 76.499 0 0 0-4.232-12.744 88.251 88.251 0 0 0-4.671-9.375H138.48a106.562 106.562 0 0 1 6.836 13.819l-10.026-2.702a106.985 106.985 0 0 0-6.283-11.117H96.454v5.55l-.993.358a21.941 21.941 0 0 0-7.097 4.362V50.245H55.812q-12.484 19.385-14.03 38.152H83.4q1.628 4.02 3.402 8.138H41.7c.505 12.81 4.883 25.505 12.826 38.152h33.888v-34.49l8.138 17.904v16.553h7.748l3.727 8.138H96.503v28.5a201.567 201.567 0 0 0 17.139-15.707q1.709 4.053 3.369 8.138zm69.761-4.167a7.552 7.552 0 0 1-1.904 1.286h-.13a6.738 6.738 0 0 1-7.097-.977l-18.881-16.016-6.511 15.902a21.045 21.045 0 0 1-1.937 3.662 14.812 14.812 0 0 1-2.458 2.865 7.78 7.78 0 0 1-12.207-1.335 15.105 15.105 0 0 1-1.497-2.653c-11.231-28.467-26.465-56.805-37.859-85.289a5.062 5.062 0 0 1 5.68-6.966c27.296 5.046 62.664 16.586 90.416 23.943 8.627 2.279 10.026 9.88 3.662 15.772a19.874 19.874 0 0 1-3.255 2.474c-4.883 2.767-9.766 5.973-14.649 8.903l18.799 16.114a6.917 6.917 0 0 1 1.628 2.051v.13a6.966 6.966 0 0 1 .635 2.393h0a6.934 6.934 0 0 1-.26 2.507 7.145 7.145 0 0 1-1.172 2.262 153.894 153.894 0 0 1-11.003 12.972zm-4.883-6.25l9.099-10.677c-4.004-3.434-21.159-16.748-22.933-19.955a3.923 3.923 0 0 1 1.351-5.29c5.957-3.255 13.607-7.91 19.255-11.67a13.64 13.64 0 0 0 1.986-1.449 7.194 7.194 0 0 0 1.221-1.416l.26-.488-.505-.293a6.38 6.38 0 0 0-1.237-.423l-84.589-22.494 35.531 79.982a7.813 7.813 0 0 0 .619 1.139l.358.472.456-.326a7.341 7.341 0 0 0 1.188-1.449 12.224 12.224 0 0 0 1.107-2.165c2.653-6.511 5.68-15.414 8.789-21.436l.374-.521a3.906 3.906 0 0 1 5.485-.439l22.201 18.832zM81.594 176.095a171.814 171.814 0 0 1-31.348-33.334h-25.57A83.824 83.824 0 0 0 45.2 162.292a85.956 85.956 0 0 0 14.47 7.813.22.22 0 0 0 .179.114 79.966 79.966 0 0 0 15.69 4.883 106.008 106.008 0 0 0 6.104 1.009zm-62.241-41.44h25.733a82.359 82.359 0 0 1-11.394-38.152H8.138a90.741 90.741 0 0 0 1.628 12.923 78.566 78.566 0 0 0 4.883 15.902 88.153 88.153 0 0 0 4.655 9.375zM8.138 88.397h25.635A88.511 88.511 0 0 1 46.42 50.245H19.353a88.153 88.153 0 0 0-4.704 9.375s0 .114-.114.163A81.236 81.236 0 0 0 9.652 75.49a83.759 83.759 0 0 0-1.628 12.907zm16.488-46.241h27.003A191.606 191.606 0 0 1 82.131 8.708c-2.262.277-4.492.602-6.641 1.058a78.713 78.713 0 0 0-15.87 4.883 89.911 89.911 0 0 0-14.47 7.813 83.824 83.824 0 0 0-20.525 19.532h0zm78.127-33.448a186.577 186.577 0 0 1 30.518 33.448h27.019a79.152 79.152 0 0 0-8.138-9.375 81.073 81.073 0 0 0-12.419-10.205 86.705 86.705 0 0 0-14.405-7.829s-.098 0-.163-.098a79.999 79.999 0 0 0-15.69-4.883c-2.214-.439-4.443-.781-6.657-1.058h0zm-6.25 5.274v28.175h26.84a188.286 188.286 0 0 0-26.84-28.175zm-8.138 157.279v-28.5H60.223a171.993 171.993 0 0 0 28.24 28.5zm0-129.105V13.981a189.295 189.295 0 0 0-26.807 28.175z"/></svg></span>'};function shoppyfit_init(){if(console.log("Find Size button initialized (version "+shoppyfitVersion+")"),console.log("See https://github.com/agcloud69/shoppyfit-tool for details"),isBrowser()){const o=document.querySelectorAll(".shoppyfit");if(0<o.length){var t=document.querySelectorAll(".shoppyfit-initialized");for(let e=0;e<o.length;e++)if(!o[parseInt(e)].classList.contains("shoppyfit-initialized")){var i=function(){try{return JSON.parse(shoppyfit_secure_content(o[parseInt(e)].innerHTML.replace(/(\r\n|\n|\r)/g,""),!1))}catch(e){return console.error("Find Size button generation failed: JSON content provided, but badly formatted (in doubt, try some tool like https://jsonformatter.org/ to validate).\r\nError message: "+e),""}}();if(""!==i){i=shoppyfit_patch_config(i);if(shoppyfit_check_required(i)){const s=shoppyfit_decorate_data(i);null!=s.identifier&&""!=s.identifier||(s.identifier="shoppyfit-btn-"+(e+t.length+1)),shoppyfit_validate(s)&&shoppyfit_generate(o[parseInt(e)],s)}}}}}else console.error("no further initialization due to wrong environment (no browser)")}function shoppyfit_patch_config(t){null!=t.event&&(Object.keys(t.event).forEach(e=>{"@"!==e.charAt(0)&&(t[""+e]=t.event[""+e])}),delete t.event);const i={title:"name"};return Object.keys(i).forEach(e=>{null==t[i[""+e]]&&null!=t[""+e]&&(t[i[""+e]]=t[""+e])}),t}function shoppyfit_decorate_data(t){if(null!=t.recurrence&&""!=t.recurrence)if(t.recurrence=t.recurrence.replace(/\s+/g,"").toUpperCase(),/^(RRULE:[\w=;,:+-/\\]+|daily|weekly|monthly|yearly)$/im.test(t.recurrence))if(/^RRULE:/i.test(t.recurrence)){const o=t.recurrence.substr(6).split(";"),s=new Object;o.forEach(function(e){s[e.split("=")[0]]=e.split("=")[1]}),t.recurrence_until=s.UNTIL||"",t.recurrence_count=s.COUNT||"",t.recurrence_byDay=s.BYDAY||"",t.recurrence_byMonth=s.BYMONTH||"",t.recurrence_byMonthDay=s.BYMONTHDAY||"",t.recurrence_interval=s.INTERVAL||1,t.recurrence_frequency=s.FREQ||""}else null!=t.recurrence_interval&&""!=t.recurrence_interval||(t.recurrence_interval=1),(null==t.recurrence_weekstart||""==t.recurrence_weekstart|2<t.recurrence_weekstart.length)&&(t.recurrence_weekstart="MO"),t.recurrence_frequency=t.recurrence,t.recurrence="RRULE:FREQ="+t.recurrence+";WKST="+t.recurrence_weekstart+";INTERVAL="+t.recurrence_interval,null!=t.recurrence_until&&""!=t.recurrence_until&&(null!=t.endTime&&""!=t.endTime?t.recurrence=t.recurrence+";UNTIL="+t.recurrence_until.replace(/-/g,"").slice(0,8)+"T"+t.endTime.replace(":","")+"00":t.recurrence=t.recurrence+";UNTIL="+t.recurrence_until.replace(/-/g,"").slice(0,8)),null!=t.recurrence_count&&""!=t.recurrence_count&&(t.recurrence=t.recurrence+";COUNT="+t.recurrence_count),null!=t.recurrence_byDay&&""!=t.recurrence_byDay&&(t.recurrence=t.recurrence+";BYDAY="+t.recurrence_byDay),null!=t.recurrence_byMonth&&""!=t.recurrence_byMonth&&(t.recurrence=t.recurrence+";BYMONTH="+t.recurrence_byMonth),null!=t.recurrence_byMonthDay&&""!=t.recurrence_byMonthDay&&(t.recurrence=t.recurrence+";BYMONTHDAY="+t.recurrence_byMonthDay);else t.recurrence="!wrong rrule format!";t.optionLabels=[];for(let e=0;e<t.options.length;e++){var i=t.options[""+e].split("|");null!=i[1]?t.optionLabels[""+e]=i[1]:t.optionLabels[""+e]=""}if(null!=t.listStyle&&""!=t.listStyle||(t.listStyle="dropdown"),"modal"===t.listStyle&&(t.trigger="click"),null!=t.buttonStyle&&""!=t.buttonStyle&&"default"!=t.buttonStyle?"round"!=t.buttonStyle&&"text"!=t.buttonStyle||(t.trigger="click"):t.buttonStyle="",null!=t.size&&""!=t.size&&0<=t.size&&t.size<11?t.size=10+parseInt(t.size):t.size=16,null==t.lightMode||""==t.lightMode)t.lightMode="light";else if(null!=t.lightMode&&""!=t.lightMode){var e=window.matchMedia("(prefers-color-scheme: dark)");switch(t.lightMode){case"system":e.matches?t.lightMode="dark":t.lightMode="light";break;case"bodyScheme":case"dark":break;default:t.lightMode="light"}}return null!=t.language&&""!=t.language||(t.language="en"),"ar"==t.language?t.rtl=!0:t.rtl=!1,null!=t.description&&""!=t.description&&(t.descriptionHtmlFree=shoppyfit_rewrite_html_elements(t.description,!0),t.description=shoppyfit_rewrite_html_elements(t.description)),t}function shoppyfit_check_required(t){if(null==t.options||t.options.length<1)return console.error("Find Size button generation failed: no valid options set"),!1;return["name"].every(function(e){return null!=t[""+e]&&""!=t[""+e]||(console.error("Find Size button generation failed: required setting missing ["+e+"]"),!1)})}function shoppyfit_validate(e){null==e.identifier||""==e.identifier||/^[\w-]+$/.test(e.identifier)||(e.identifier="",console.error("Find Size button generation: identifier invalid - using auto numbers instead"));const t="Find Size button generation ("+e.identifier+")";if(null!=e.organizer&&""!=e.organizer){var i=e.organizer.split("|");if(2!=i.length||50<i[0].length||80<i[1].length||!shoppyfit_validEmail(i[1]))return console.error(t+' failed: organizer needs to match the schema "NAME|EMAIL" with a valid email address'),!1}return null!=e.sequence&&""!=e.sequence?/^\d+$/.test(e.sequence)||(console.log(t+": sequence needs to be a number. Used the default 0 instead"),e.sequence=0):e.sequence=0,!!e.options.every(function(e){return!!shoppyfitOptions.includes(e)||(console.error(t+" failed: invalid option ["+e+"]"),!1)})}function shoppyfit_generate_label(t,i,e,o=!1,s="",n=!1){var l=shoppyfit_translate_hook("Find Size",t.language,t);switch(n&&""==s&&(s=l),e){case"trigger":default:"click"===t.trigger?i.addEventListener("click",e=>{e.preventDefault(),shoppyfit_toggle("auto",t,i,!1,!0)}):(i.addEventListener("touchend",e=>{e.preventDefault(),shoppyfit_toggle("auto",t,i,!1,!0)}),i.addEventListener("mouseenter",shoppyfit_debounce_leading(e=>{e.preventDefault(),shoppyfit_toggle("open",t,i,!1,!0)}))),i.id=t.identifier,s=s||l;break;case"apple":i.addEventListener("click",shoppyfit_debounce(()=>{n?i.blur():shoppyfit_toggle("close")})),i.id=t.identifier+"-apple",s=s||"Apple";break;case"step1":i.addEventListener("click",shoppyfit_debounce(()=>{n?i.blur():shoppyfit_toggle("close")})),i.id=t.identifier+"-step 1",s=s||"step1";break;case"close":i.addEventListener("click",shoppyfit_debounce(()=>{n?i.blur():shoppyfit_toggle("close")})),i.addEventListener("focus",shoppyfit_debounce(()=>shoppyfit_close(!1))),i.id=t.identifier+"-close",s=shoppyfit_translate_hook("Close",t.language,t)}if(n&&(i.id=t.identifier),n||"trigger"!==e?i.addEventListener("keyup",shoppyfit_debounce_leading(e=>{"Enter"==e.key&&(e.preventDefault(),i.click())})):i.addEventListener("keyup",shoppyfit_debounce_leading(e=>{"Enter"==e.key&&(e.preventDefault(),shoppyfit_toggle("auto",t,i,!0,!0))})),o){const r=document.createElement("span");r.classList.add("shoppyfit-icon"),r.innerHTML=shoppyfitIcon[""+e],i.appendChild(r)}const a=document.createElement("span");a.classList.add("shoppyfit-text"),a.textContent=s,i.appendChild(a)}function shoppyfit_generate(e,t){e.textContent="";const i=document.createElement("div"),o=(i.classList.add("shoppyfit-button-wrapper"),i.classList.add("shoppyfit-"+t.lightMode),t.rtl&&i.classList.add("shoppyfit-rtl"),i.style.fontSize=t.size+"px",e.appendChild(i),document.createElement("button"));if(o.classList.add("shoppyfit-button"),"click"===t.trigger&&o.classList.add("shoppyfit-click"),"overlay"===t.listStyle&&o.classList.add("shoppyfit-dropoverlay"),o.type="button",i.appendChild(o),1===t.options.length)o.classList.add("shoppyfit-single"),shoppyfit_generate_label(t,o,t.options[0],!0,t.label,!0);else{shoppyfit_generate_label(t,o,"trigger",!0,t.label);const s=document.createElement("div");s.classList.add("shoppyfit-dropdown-anchor"),o.appendChild(s)}e.classList.remove("shoppyfit"),e.classList.add("shoppyfit-initialized"),t.inline?e.style.display="inline-block":e.style.display="block",console.log('Find Size button "'+t.identifier+'" created')}function shoppyfit_generate_dropdown_list(i){const o=document.createElement("div");o.classList.add("shoppyfit-list"),o.classList.add("shoppyfit-"+i.lightMode),i.rtl&&o.classList.add("shoppyfit-rtl"),o.style.fontSize=i.size+"px";let s=0;if(i.options.forEach(function(e){const t=document.createElement("div");t.classList.add("shoppyfit-list-item"),t.tabIndex=0,s++,t.dataset.optionNumber=s,o.appendChild(t),shoppyfit_generate_label(i,t,e,!0,i.optionLabels[s-1])}),"modal"===i.listStyle){const e=document.createElement("div");e.classList.add("shoppyfit-list-item","shoppyfit-list-item-close"),e.tabIndex=0,o.appendChild(e),shoppyfit_generate_label(i,e,"close",!0)}return o}function shoppyfit_generate_bg_overlay(e="dropdown",t="",i="light",o=!0){const s=document.createElement("div");s.id="shoppyfit-bgoverlay","modal"!==e&&o&&s.classList.add("shoppyfit-animate-bg"),o||s.classList.add("shoppyfit-no-bg"),s.classList.add("shoppyfit-"+i),s.tabIndex=0,s.addEventListener("click",shoppyfit_debounce(e=>{e.target===e.currentTarget&&shoppyfit_toggle("close")}));let n=!1;return s.addEventListener("touchstart",shoppyfit_debounce_leading(()=>n=!1),{passive:!0}),s.addEventListener("touchmove",shoppyfit_debounce_leading(()=>n=!0),{passive:!0}),s.addEventListener("touchend",shoppyfit_debounce(e=>{!1===n&&e.target===e.currentTarget&&shoppyfit_toggle("close")}),{passive:!0}),s.addEventListener("focus",shoppyfit_debounce_leading(e=>{e.target===e.currentTarget&&shoppyfit_toggle("close")})),"click"!==t?s.addEventListener("mousemove",shoppyfit_debounce_leading(e=>{e.target===e.currentTarget&&shoppyfit_toggle("close")})):s.classList.add("shoppyfit-click"),s}function shoppyfit_toggle(e,t="",i="",o=!1,s=!1){"open"!=e&&("close"==e||i.classList.contains("shoppyfit-active")||document.querySelector(".shoppyfit-active-modal"))?shoppyfit_close(o):shoppyfit_open(t,i,o,s)}function shoppyfit_open(e,t,i=!1,o=!1){if(!document.querySelector(".shoppyfit-list")&&!document.querySelector(".shoppyfit-modal")){const s=shoppyfit_generate_dropdown_list(e),n=document.createElement("div"),l=(n.classList.add("shoppyfit-list-wrapper"),t?(t.classList.add("shoppyfit-active"),"modal"===e.listStyle?(t.classList.add("shoppyfit-modal-style"),s.classList.add("shoppyfit-modal")):(n.appendChild(s),n.classList.add("shoppyfit-dropdown"),"overlay"===e.listStyle&&n.classList.add("shoppyfit-dropoverlay")),o&&s.classList.add("shoppyfit-generated-button")):s.classList.add("shoppyfit-modal"),shoppyfit_generate_bg_overlay(e.listStyle,e.trigger,e.lightMode,e.background));"modal"===e.listStyle?(document.body.appendChild(l),l.appendChild(s),document.body.classList.add("shoppyfit-modal-no-scroll")):(document.body.appendChild(n),n.appendChild(s),n.classList.add("shoppyfit-style-"+e.buttonStyle),document.body.appendChild(l),"dropdown-static"===e.listStyle?shoppyfit_position_list(t,n,!0):shoppyfit_position_list(t,n)),shoppyfit_set_fullsize(l),i?s.firstChild.focus():s.firstChild.focus({preventScroll:!0}),s.firstChild.blur()}}function shoppyfit_close(e=!1){const t=document.querySelector(".shoppyfit-active, .shoppyfit-active-modal");t&&(t.focus({preventScroll:!0}),e||t.blur()),Array.from(document.querySelectorAll(".shoppyfit-active")).forEach(e=>{e.classList.remove("shoppyfit-active")}),Array.from(document.querySelectorAll(".shoppyfit-active-modal")).forEach(e=>{e.classList.remove("shoppyfit-active-modal")}),document.body.classList.remove("shoppyfit-modal-no-scroll"),Array.from(document.querySelectorAll(".shoppyfit-list-wrapper")).concat(Array.from(document.querySelectorAll(".shoppyfit-list"))).concat(Array.from(document.querySelectorAll(".shoppyfit-info-modal"))).concat(Array.from(document.querySelectorAll("#shoppyfit-bgoverlay"))).forEach(e=>e.remove())}function shoppyfit_action(e,t,i=!0){if(!shoppyfit_check_required(e=shoppyfit_secure_content(e)))throw new Error("Find Size button generation failed: required data missing; see console logs");if(e=shoppyfit_decorate_data(e),t?(e.identifier=t.id,"modal"!=e.listStyle&&(e.listStyle="overlay")):(e.identifier="shoppyfit-btn-custom",e.listStyle="modal",e.trigger="click"),!shoppyfit_validate(e))throw new Error("Find Size button generation ("+e.identifier+") failed: invalid data; see console logs");shoppyfit_toggle("open",e,t,i)}function shoppyfit_secure_content(e,t=!0){const i=t?JSON.stringify(e):e;e=i.replace(/(<(?!br)([^>]+)>)/gi,"");return t?JSON.parse(e):e}function shoppyfit_secure_url(e,t=!0){return!e.match(/((\.\.\/)|(\.\.\\)|(%2e%2e%2f)|(%252e%252e%252f)|(%2e%2e\/)|(%252e%252e\/)|(\.\.%2f)|(\.\.%252f)|(%2e%2e%5c)|(%252e%252e%255c)|(%2e%2e\\)|(%252e%252e\\)|(\.\.%5c)|(\.\.%255c)|(\.\.%c0%af)|(\.\.%25c0%25af)|(\.\.%c1%9c)|(\.\.%25c1%259c))/gi)||(t&&console.error("Seems like the generated URL includes at least one security issue and got blocked. Please check the calendar button parameters!"),!1)}function shoppyfit_validEmail(e,t=0){return!!/^.{0,70}@.{1,30}\.[\w.]{2,9}$/.test(e)}function shoppyfit_rewrite_html_elements(e,t=!1){return e=e.replace(/<br\s*\/?>/gi,"\n"),e=t?e.replace(/\[(|\/)(url|br|hr|p|b|strong|u|i|em|li|ul|ol|h\d)\]|((\|.*)\[\/url\])/gi,""):(e=e.replace(/\[(\/|)(br|hr|p|b|strong|u|i|em|li|ul|ol|h\d)\]/gi,"<$1$2>")).replace(/\[url\]([\w&$+.,:;=~!*'?@^%#|\s\-()/]*)\[\/url\]/gi,function(e,t){const i=t.split("|");t=1<i.length&&""!=i[1]?i[1]:i[0];return'<a href="'+i[0]+'" target="'+shoppyfitDefaultTarget+'" rel="noopener">'+t+"</a>"})}function shoppyfit_create_modal(o,e="",t,i,s){const n=shoppyfit_generate_bg_overlay("modal","click",o.lightMode),l=document.createElement("div"),a=(l.classList.add("shoppyfit-modal","shoppyfit-info-modal"),l.tabIndex=0,n.appendChild(l),document.body.appendChild(n),document.body.classList.add("shoppyfit-modal-no-scroll"),document.getElementById(o.identifier)),r=(null!=a&&a.classList.add("shoppyfit-active-modal"),document.createElement("div")),c=(r.classList.add("shoppyfit-modal-box"),r.classList.add("shoppyfit-"+o.lightMode),o.rtl&&r.classList.add("shoppyfit-rtl"),r.style.fontSize=o.size+"px",l.appendChild(r),shoppyfit_set_fullsize(n),document.createElement("div")),p=(c.classList.add("shoppyfit-modal-close"),c.innerHTML=shoppyfitIcon.close,r.appendChild(c),c.addEventListener("click",shoppyfit_debounce(()=>shoppyfit_close())),c.addEventListener("keyup",shoppyfit_debounce_leading(e=>{"Enter"==e.key&&(e.preventDefault(),shoppyfit_toggle("close","","",!0))})),null!=s&&0!=s.length||(c.tabIndex=0,c.focus()),document.createElement("div"));if(p.classList.add("shoppyfit-modal-headline"),r.appendChild(p),""!=e){const h=document.createElement("span");h.classList.add("shoppyfit-modal-headline-icon"),h.innerHTML=shoppyfitIcon[""+e],p.appendChild(h)}e=document.createTextNode(t);p.appendChild(e);const d=document.createElement("div");if(d.classList.add("shoppyfit-modal-content"),d.innerHTML=i,r.appendChild(d),null!=s&&0<s.length){const u=document.createElement("div");u.classList.add("shoppyfit-modal-buttons"),r.appendChild(u),s.forEach((e,t)=>{let i;null!=e.href&&""!=e.href?((i=document.createElement("a")).setAttribute("target",shoppyfitDefaultTarget),i.setAttribute("href",e.href),i.setAttribute("rel","noopener")):(i=document.createElement("button")).type="button",i.classList.add("shoppyfit-modal-btn"),e.primary&&i.classList.add("shoppyfit-modal-btn-primary"),null!=e.label&&""!=e.label||(e.label=shoppyfit_translate_hook("Click me",o.language,o)),i.textContent=e.label,u.appendChild(i),0==t&&i.focus(),e.type,i.addEventListener("click",shoppyfit_debounce(()=>shoppyfit_close())),i.addEventListener("keyup",shoppyfit_debounce(e=>{"Enter"==e.key&&shoppyfit_toggle("close","","",!0)}))})}}function shoppyfit_position_list(e,t,i=!1,o=!1){let s=!1;const n=e;null!==e.querySelector(".shoppyfit-dropdown-anchor")&&(e=e.querySelector(".shoppyfit-dropdown-anchor"),s=!0);let l=e.getBoundingClientRect(),a=t.getBoundingClientRect();var r,c=n.getBoundingClientRect();!0!==s||t.classList.contains("shoppyfit-dropoverlay")?(r=l.width+20+"px",t.style.minWidth=r,a=t.getBoundingClientRect(),t.style.top=window.scrollY+c.top+c.height/2-a.height/2+"px"):(r=document.documentElement.clientHeight,t.classList.contains("shoppyfit-dropup")&&o||!i&&l.top+a.height>r-20&&20<2*c.top+c.height-l.top-a.height?(n.classList.add("shoppyfit-dropup"),t.classList.add("shoppyfit-dropup"),t.style.bottom=2*r-(r+(c.top+(c.top+c.height-l.top)))-window.scrollY+"px"):(t.style.top=window.scrollY+l.top+"px",n.classList.contains("shoppyfit-dropup")&&n.classList.remove("shoppyfit-dropup")),l=e.getBoundingClientRect(),t.classList.contains("shoppyfit-style-round")||t.classList.contains("shoppyfit-style-text")?t.style.minWidth=l.width+"px":t.style.width=l.width+"px",a=t.getBoundingClientRect()),t.style.left=l.left-(a.width-l.width)/2+"px"}function shoppyfit_set_fullsize(e){e.style.width=window.innerWidth+"px",e.style.height=window.innerHeight+100+"px"}function shoppyfit_debounce(t,i=200){let o;return(...e)=>{clearTimeout(o),o=setTimeout(()=>{t.apply(this,e)},i)}}function shoppyfit_debounce_leading(t,i=300){let o;return(...e)=>{o||t.apply(this,e),clearTimeout(o),o=setTimeout(()=>{o=void 0},i)}}function shoppyfit_throttle(o,s=10){let n,l=null,a=0,r=(...e)=>{a=Date.now(),l=null,n=o.apply(this,e)};return(...e)=>{var t=Date.now(),i=s-(t-a);return i<=0||s<i?(l&&(clearTimeout(l),l=null),a=t,n=o.apply(this,e)):l=l||setTimeout(r,i),n}}isBrowser()&&(document.addEventListener("keyup",shoppyfit_debounce_leading(e=>{"Escape"===e.key&&shoppyfit_toggle("close","","",!0)})),document.addEventListener("keydown",i=>{if(document.querySelector(".shoppyfit-list")&&("ArrowDown"===i.key||"ArrowUp"===i.key||"Tab"===i.key)){let e=0,t=document.activeElement;var o=document.querySelectorAll(".shoppyfit-list-item").length;t.classList.contains("shoppyfit-list-item")?("ArrowDown"===i.key&&t.dataset.optionNumber<o?(i.preventDefault(),e=parseInt(t.dataset.optionNumber)+1):"ArrowUp"===i.key&&1<=t.dataset.optionNumber&&(i.preventDefault(),e=parseInt(t.dataset.optionNumber)-1),0<e&&document.querySelector('.shoppyfit-list-item[data-option-number="'+e+'"]').focus()):(i.preventDefault(),(!document.querySelector(".shoppyfit-list-wrapper.shoppyfit-dropup")||"ArrowDown"!==i.key&&"ArrowUp"!==i.key?document.querySelector('.shoppyfit-list-item[data-option-number="1"]'):document.querySelector('.shoppyfit-list-item[data-option-number="'+o+'"]')).focus())}}),window.addEventListener("resize",shoppyfit_throttle(()=>{var e=document.getElementById("shoppyfit-bgoverlay"),e=(null!=e&&shoppyfit_set_fullsize(e),document.querySelector(".shoppyfit-active")),t=document.querySelector(".shoppyfit-dropdown");null!=e&&null!=t&&shoppyfit_position_list(e,t,!1,!0)})));const i18nStrings={en:{"Find Size":"Find Size",Close:"Close"},de:{"Find Size":"Im Kalender speichern",Close:"Schließen"},es:{"Find Size":"Añadir al Calendario",Close:"Ciérralo"},pt:{"Find Size":"Incluir no Calendário",Close:"Fechar"},fr:{"Find Size":"Ajout au Calendrier",Close:"Fermez"},nl:{"Find Size":"Opslaan in Kalender","iCal File":"iCal File",Close:"Sluiten"},tr:{"Find Size":"Takvime Ekle",Close:"Kapat"},zh:{"Find Size":"添加到日历",Close:"关"},ar:{"Find Size":"إضافة إلى التقويم",Close:"قريب"},hi:{"Find Size":"कैलेंडर में जोड़ें",Close:"बंद करना"},pl:{"Find Size":"Dodaj do kalendarza","iCal File":"Plik iCal",Close:"Zamknij"},id:{"Find Size":"Tambahkan ke Kalender","iCal File":"File iCal",Close:"Tutup"},no:{"Find Size":"Legg til i kalenderen",Close:"Lukk"},fi:{"Find Size":"Lisää kalenteriin","iCal File":"iCal-tiedosto",Close:"Sulje"},sv:{"Find Size":"Lägg till i kalender","iCal File":"iCal-fil",Close:"Stäng"},cs:{"Find Size":"Přidat do kalendáře",Close:"Zavřít"},ja:{"Find Size":"カレンダーに追加",Close:"閉じる"},it:{"Find Size":"Aggiungi al calendario","iCal File":"File iCal",Close:"Chiudere"},ko:{"Find Size":"캘린더에 추가","iCal File":"iCal 파일",Close:"닫다"},vi:{"Find Size":"Thêm vào Lịch",Close:"Đóng"}};function shoppyfit_translate_hook(e,t,i){var o=e.replace(/\s+/g,"").toLowerCase();return null!=i.customLabels&&null!=i.customLabels[""+o]&&""!=i.customLabels[""+o]?shoppyfit_rewrite_html_elements(i.customLabels[""+o]):shoppyfit_translate(e,t)}function shoppyfit_translate(e,t){return t=t||"en",i18nStrings[""+t][""+e]||e}isBrowser()&&("loading"!==document.readyState?shoppyfit_init():document.addEventListener("DOMContentLoaded",shoppyfit_init,!1));
//# sourceMappingURL=shoppyfit.min.js.map